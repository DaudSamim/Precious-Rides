<?php

namespace App\Http\Controllers;

use Illuminate\Http\Request;

class VehicleConsolidateController extends Controller
{
    public function index()
    {
        return view('vehicle_consolidate');
    }

    public function data()
    {
        $array = [["", "802", 1, 2, "401", "98011", "16:7:00", "00:14:15", "17.21", "98459.21", "6900.00", "6900", "828", 1], ["", "811", 1, 1, "503", "0", "0:2:00", "00:16:40", "13.27", "576.27", "6677.00", "6677", "801.24", 2], ["", "645", 0, 8, "285", "41313", "0:9:00", "00:42:05", "18.16", "41366.16", "5176.00", "5176", "621.12", 3], ["", "644", 1, 1, "300", "0", "9:12:00", "00:01:38", "11.00", "154377.00", "3300.00", "3300", "396", 4], ["", "408", 0, 8, "210", "64", "13:32:00", "00:32:16", "15.63", "113799.63", "3283.00", "3283", "393.96", 5], ["", "655", 0, 4, "250", "0", "8:23:00", "00:05:20", "13.06", "59519.06", "3265.00", "3265", "391.8", 6], ["", "662", 1, 5, "71", "691", "4:29:00", "00:12:12", "41.79", "691", "2967.00", "2967", "356.04", 7], ["", "409", 1, 1, "217", "0", "11:36:00", "00:02:41", "13.36", "90996.36", "2900.00", "2900", "348", 8], ["", "403", 1, 14, "158", "66", "5:40:00", "00:12:59", "17.37", "266986.37", "2745.00", "2745", "329.4", 9], ["", "621", 1, 3, "197", "9", "10:46:00", "00:02:15", "13.08", "162170.08", "2576.00", "2576", "309.12", 10], ["", "639", 1, 6, "138", "88622", "8:46:00", "00:06:06", "18.43", "177273.43", "2544.00", "2544", "305.28", 11], ["", "447", 0, 11, "147", "44", "5:32:00", "00:11:12", "16.70", "29972.70", "2455.00", "2455", "294.6", 12], ["", "608", 0, 9, "125", "48", "4:57:00", "00:15:39", "18.75", "97652.75", "2344.00", "2344", "281.28", 13], ["", "663", 1, 3, "206", "29", "6:13:00", "00:03:33", "11.07", "26810.07", "2280.00", "2280", "273.6", 14], ["", "414", 1, 12, "119", "280063", "6:4:00", "00:10:14", "18.42", "559925.42", "2192.00", "2192", "263.04", 15], ["", "471", 1, 3, "136", "11", "0:4:00", "00:13:23", "15.07", "149780.07", "2050.00", "2050", "246", 16], ["", "653", 1, 1, "125", "0", "0:1:00", "00:14:36", "14.80", "457.80", "1850.00", "1850", "222", 17], ["", "636", 1, 11, "179", "28", "4:24:00", "00:07:44", "10.22", "9736.22", "1829.00", "1829", "219.48", 18], ["", "635", 1, 5, "94", "44", "0:5:00", "00:08:11", "17.37", "61.37", "1633.00", "1633", "195.96", 19], ["", "617", 1, 5, "100", "0", "6:55:00", "00:04:03", "14.57", "405.57", "1457.00", "1457", "174.84", 20], ["", "678", 1, 2, "37", "6", "4:20:00", "00:02:33", "19.92", "13416.92", "737.00", "737", "88.44", 21], ["", "640", 1, 2, "34", "30", "0:3:00", "00:04:08", "13.24", "79.24", "450.00", "450", "54", 22], ["", "602", 0, 3, "15", "0", "0:26:00", "00:01:51", "20.00", "152515.00", "300.00", "300", "36", 23], ["", "412", 1, 1, "3", "0", "0:17:00", "00:00:41", "29.00", "498.00", "87.00", "87", "10.44", 24]];
        $tags = array_map(function ($tag) {
            return array(
                'sno'           => ucfirst($tag[0]),
                'vid'           => ucfirst($tag[1]),
                'noofdays'      => ucfirst($tag[2]),
                'trips'         => ucfirst($tag[3]),
                'runkm'         => ucfirst($tag[4]),
                'emptykm'       => ucfirst($tag[5]),
                'runtime'       => ucfirst($tag[6]),
                'idle'          => ucfirst($tag[7]),
                'APRK1'         => ucfirst($tag[8]),
                'APRK2'         => ucfirst($tag[9]),
                'avgcollperday' => ucfirst($tag[10]),
                'coll'          => ucfirst($tag[11]),
                'cccharge'      => ucfirst($tag[12])
            );
        }, $array);
        $data['data'] = $tags;
        print_r(json_encode($data));
        exit;
    }
}
